<!DOCTYPE html>
<html>
<head>
    <title>Dijkstra's Canvas</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="canvas.js"></script>
</head>
<style>
body {
    background-color: #2E3842;
}

svg {
    border: 1px dashed grey;
    border-radius: 5px;
    background-color: #F2F2F2;
    position: absolute;
    top: 0;
    left: 0;
}

line, path {
    stroke: black;
    stroke-width: 3px;
    stroke-linecap: round;
}

text {
    font-family: Helvetica, sans-serif;
}

.col-lg-8, .col-lg-4 {
    height: 100vh;
    padding: 0;
}
</style>
<body oncontextmenu="return false;">

<script>
// On load and reload
document.addEventListener("DOMContentLoaded", function () {
    const elem1 = document.getElementById("main-title");
    const elem2 = document.getElementById("input-vertex");
    const elem3 = document.getElementById("spath-title");
    const elem4 = document.getElementById("spaths");
    const elem5 = document.getElementById("console-square");

    // Non-fullscreen has more already there, less space to work with
    if (window.innerHeight != screen.height) {
        elem1.style.height = String(0.15*window.innerHeight)+"px";
        elem2.style.height = String(0.10*window.innerHeight)+"px";
        elem3.style.height = String(0.12*window.innerHeight)+"px";
        elem4.style.height = String(0.24*window.innerHeight)+"px";
        elem5.style.height = String(0.18*window.innerHeight)+"px";
    } else { // More to work with
        elem1.style.height = String(0.15*window.innerHeight)+"px";
        elem2.style.height = String(0.10*window.innerHeight)+"px";
        elem3.style.height = String(0.12*window.innerHeight)+"px";
        elem4.style.height = String(0.26*window.innerHeight)+"px";
        elem5.style.height = String(0.20*window.innerHeight)+"px";
    }
});
</script>

<div class="container-fluid">
  <div class="row">

    <!-- 2/3 of screen (left) -->
    <div id="canvas" class="col-lg-8"></div>

    <!-- 1/3 of screen (right) -->
    <div class="col-lg-4">

            <div id="main-title" class="d-flex justify-content-center align-items-center">
              <h3 class="text-center mx-auto" style="color: white;">Dijkstra's Canvas</h3>
            </div>

            <div id="input-vertex" class="d-flex justify-content-center align-items-center">
              <input id="input-box" class="form-control-lg" style="text-align: center; margin-right: 1rem;" id="input" type="text" placeholder="A->B" spellcheck="false">
              <button id="spath-button" type="button" class="btn btn-outline-info btn-md">Get S-Path</button>
            </div>

            <div id="spath-title" class="d-flex justify-content-center align-items-center">
              <div style="color: white; text-decoration: underline; font-size: 24px;">Shortest Paths</div>
            </div>

            <div id="spaths" class="justify-content-center align-items-center"></div>

            <div id="console-title" class="d-flex justify-content-center align-items-center">
              <div style="color: white; text-decoration: underline; font-size: 24px;">Console</div>
            </div>

            <div class="d-flex justify-content-center align-items-center" style="padding-top: 10px;">
              <div id="console-square" style="width: 100vw; background-color: #202124;"></div>
            </div>

            <div class="d-flex justify-content-center align-items-center" style="padding-top: 20px">
              <button id="reset-button" type="button" class="btn btn-danger btn-md">Reset Graph</button>
            </div>

          </div>
        </div>
      </div>

      <!-- About Button (Needs to be last) -->
      <div class="position-fixed top-0 end-0 p-2">
        <a class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#aboutModal">About</a>
      </div>
      <div class="modal fade" id="aboutModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="aboutModalLabel">About</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <b>Dijkstra's Canvas v1.0</b>
              </br></br>
              Found a bug? Let me know on <a href="https://www.github.com/kyletimmermans/DijkstrasCanvas/" target="_blank" rel="noopener noreferrer">GitHub</a>!
              </br>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-success" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
    </div> <!-- Col4 -->
  </div> <!-- Row -->
</div> <!-- Container -->

</body>
</html>